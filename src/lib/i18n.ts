import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const resources = {
  pt: {
    translation: {
      searchByNamePlaceholder: 'Pesquisar Pokémon por nome...',
      errorLoadingPokemon: 'Erro ao carregar os dados do Pokémon: {{ message }}',
      unknownError: 'Erro desconhecido',
      returnToPokedex: 'Voltar para o Pokédex',
      description: 'Descrição',
      noDescription: 'Nenhuma descrição disponível para esta versão ou idioma selecionado',
      selectVersion: 'Selecione a versão',
      toggleLanguage: 'Alterar idioma',
      height: 'Altura',
      weight: 'Peso',
      loading: 'Carregando...',
      noResults: 'Nenhum resultado encontrado',
      error: 'Erro ao carregar os dados',
      baseExperience: 'Experiência Base',
      teamBuilder: {
        title: 'Construtor de Times',
        noSavedTeams: 'Nenhum time salvo',
        importTeams: 'Importar Times',
        exportTeams: 'Exportar Times',
        invalidFileFormat: 'Formato de arquivo inválido. Certifique-se de que o arquivo JSON contém um array de times.',
        builder: 'Construtor',
        newTeam: 'Novo Time',
        myTeams: 'Meus Times',
        noMembers: 'Nenhum Pokémon adicionado. Pesquise e adicione Pokémon abaixo.',
        saveTeam: 'Salvar Time',
        noMembersError: 'Você deve adicionar pelo menos um Pokémon ao seu time antes de poder salvá-lo.',
        failedToImportTeams: 'Falha ao importar times. Verifique o formato do arquivo JSON.',
        failedToExportTeams: 'Falha ao exportar times. Tente novamente.',
      },
      type: {
        normal: 'Normal',
        fire: 'Fogo',
        water: 'Água',
        grass: 'Planta',
        electric: 'Elétrico',
        ice: 'Gelo',
        fighting: 'Lutador',
        poison: 'Venenoso',
        ground: 'Terrestre',
        flying: 'Voador',
        psychic: 'Psíquico',
        bug: 'Inseto',
        rock: 'Pedra',
        ghost: 'Fantasma',
        dragon: 'Dragão',
        dark: 'Sombrio',
        steel: 'Aço',
        fairy: 'Fada',
      },
      version: {
        red: 'Red',
        blue: 'Blue',
        yellow: 'Yellow',
        green: 'Green',
        gold: 'Gold',
        silver: 'Silver',
        crystal: 'Crystal',
        ruby: 'Ruby',
        sapphire: 'Sapphire',
        emerald: 'Emerald',
        firered: 'FireRed',
        leafgreen: 'LeafGreen',
        diamond: 'Diamond',
        pearl: 'Pearl',
        platinum: 'Platinum',
        heartgold: 'HeartGold',
        soulsilver: 'SoulSilver',
        black: 'Black',
        white: 'White',
        'black-2': 'Black 2',
        'white-2': 'White 2',
        x: 'X',
        y: 'Y',
        'omega-ruby': 'Omega Ruby',
        'alpha-sapphire': 'Alpha Sapphire',
        sun: 'Sun',
        moon: 'Moon',
        'ultra-sun': 'Ultra Sun',
        'ultra-moon': 'Ultra Moon',
        'lets-go-pikachu': 'Let\'s Go Pikachu',
        'lets-go-eevee': 'Let\'s Go Eevee',
        sword: 'Sword',
        shield: 'Shield',
        'brilliant-diamond': 'Brilliant Diamond',
        'shining-pearl': 'Shining Pearl',
        'legends-arceus': 'Legends Arceus',
        scarlet: 'Scarlet',
        violet: 'Violet'
      }
    },
  },
  en: {
    translation: {
      searchByNamePlaceholder: 'Search Pokémon by name...',
      errorLoadingPokemon: 'Error loading Pokémon data: {{ message }}',
      unknownError: 'Unknown error',
      returnToPokedex: 'Return to Pokédex',
      description: 'Description',
      noDescription: 'No description available for this version or selected language',
      selectVersion: 'Select version',
      toggleLanguage: 'Toggle language',
      height: 'Height',
      loading: 'Loading...',
      noResults: 'No results found',
      error: 'Error loading data',
      weight: 'Weight',
      baseExperience: 'Base Experience',
      teamBuilder: {
        noSavedTeams: 'No saved teams',
        title: 'Team Builder',
        importTeams: 'Import Teams',
        exportTeams: 'Export Teams',
        invalidFileFormat: 'Invalid file format. Please ensure the JSON file contains an array of teams.',
        builder: 'Builder',
        newTeam: 'New Team',
        myTeams: 'My Teams',
        noMembers: 'No Pokémon added. Search and add Pokémon below.',
        saveTeam: 'Save Team',
        noMembersError: 'You must add at least one Pokémon to your team before you can save it.',
        failedToImportTeams: 'Failed to import teams. Please check the JSON file format.',
        failedToExportTeams: 'Failed to export teams. Please try again.',
      },
      type: {
        normal: 'Normal',
        fire: 'Fire',
        water: 'Water',
        grass: 'Grass',
        electric: 'Electric',
        ice: 'Ice',
        fighting: 'Fighting',
        poison: 'Poison',
        ground: 'Ground',
        flying: 'Flying',
        psychic: 'Psychic',
        bug: 'Bug',
        rock: 'Rock',
        ghost: 'Ghost',
        dragon: 'Dragon',
        dark: 'Dark',
        steel: 'Steel',
        fairy: 'Fairy',
      },
      version: {
        red: 'Red',
        blue: 'Blue',
        yellow: 'Yellow',
        green: 'Green',
        gold: 'Gold',
        silver: 'Silver',
        crystal: 'Crystal',
        ruby: 'Ruby',
        sapphire: 'Sapphire',
        emerald: 'Emerald',
        firered: 'FireRed',
        leafgreen: 'LeafGreen',
        diamond: 'Diamond',
        pearl: 'Pearl',
        platinum: 'Platinum',
        heartgold: 'HeartGold',
        soulsilver: 'SoulSilver',
        black: 'Black',
        white: 'White',
        'black-2': 'Black 2',
        'white-2': 'White 2',
        x: 'X',
        y: 'Y',
        'omega-ruby': 'Omega Ruby',
        'alpha-sapphire': 'Alpha Sapphire',
        sun: 'Sun',
        moon: 'Moon',
        'ultra-sun': 'Ultra Sun',
        'ultra-moon': 'Ultra Moon',
        'lets-go-pikachu': 'Let\'s Go Pikachu',
        'lets-go-eevee': 'Let\'s Go Eevee',
        sword: 'Sword',
        shield: 'Shield',
        'brilliant-diamond': 'Brilliant Diamond',
        'shining-pearl': 'Shining Pearl',
        'legends-arceus': 'Legends Arceus',
        scarlet: 'Scarlet',
        violet: 'Violet'
      }
    },
  },
  fr: {
    translation: {
      searchByNamePlaceholder: 'Rechercher un Pokémon par nom...',
      errorLoadingPokemon: 'Erreur lors du chargement des données du Pokémon : {{ message }}',
      unknownError: 'Erreur inconnue',
      returnToPokedex: 'Retour au Pokédex',
      description: 'Description',
      noDescription: 'Aucune description disponible pour cette version ou langue sélectionnée',
      selectVersion: 'Sélectionner la version',
      toggleLanguage: 'Changer de langue',
      loading: 'Chargement...',
      noResults: 'Aucun résultat trouvé',
      error: 'Erreur lors du chargement des données',
      height: 'Hauteur',
      weight: 'Poids',
      teamBuilder: {
        title: 'Constructeur d\'équipe',
        noSavedTeams: 'Aucune équipe enregistrée',
        invalidFileFormat: 'Format de fichier invalide. Assurez-vous que le fichier JSON contient un tableau d\'équipes.',
        importTeams: 'Importer des équipes',
        exportTeams: 'Exporter des équipes',
        builder: 'Constructeur',
        newTeam: 'Nouvelle équipe',
        myTeams: 'Mes équipes',
        noMembers: 'Aucun Pokémon ajouté. Recherchez et ajoutez des Pokémon ci-dessous.',
        saveTeam: 'Enregistrer l\'équipe',
        noMembersError: 'Vous devez ajouter au moins un Pokémon à votre équipe avant de pouvoir l\'enregistrer.',
        failedToImportTeams: 'Échec de l\'importation des équipes. Veuillez vérifier le format du fichier JSON.',
        failedToExportTeams: 'Échec de l\'exportation des équipes. Veuillez réessayer.',
      },
      baseExperience: 'Expérience de base',
      type: {
        normal: 'Normal',
        fire: 'Feu',
        water: 'Eau',
        grass: 'Plante',
        electric: 'Électrik',
        ice: 'Glace',
        fighting: 'Combat',
        poison: 'Poison',
        ground: 'Sol',
        flying: 'Vol',
        psychic: 'Psy',
        bug: 'Insecte',
        rock: 'Roche',
        ghost: 'Spectre',
        dragon: 'Dragon',
        dark: 'Ténèbres',
        steel: 'Acier',
        fairy: 'Fée',
      },
      version: {
        red: 'Rouge',
        blue: 'Bleu',
        yellow: 'Jaune',
        green: 'Vert',
        silver: 'Argent',
        crystal: 'Cristal',
        ruby: 'Rubis',
        sapphire: 'Saphir',
        emerald: 'Émeraude',
        firered: 'Rouge Feu',
        leafgreen: 'Vert Feuille',
        diamond: 'Diamant',
        pearl: 'Perle',
        platinum: 'Platine',
        heartgold: 'Or HeartGold',
        soulsilver: 'Argent SoulSilver',
        black: 'Noir',
        white: 'Blanc',
        'black-2': 'Noir 2',
        'white-2': 'Blanc 2',
        x: 'X',
        y: 'Y',
        'omega-ruby': 'Rubis Oméga',
        'alpha-sapphire': 'Alpha Saphir',
        sun: 'Soleil',
        moon: 'Lune',
        'ultra-sun': 'Ultra Soleil',
        'ultra-moon': 'Ultra Lune',
        'lets-go-pikachu': 'Let\'s Go Pikachu',
        'lets-go-eevee': 'Let\'s Go Eevee',
        sword: 'Épée',
        shield: 'Bouclier',
        'brilliant-diamond': 'Diamant Étincelant',
        'shining-pearl': 'Perle Brillante',
      }
    },
  }
};

export const saveLanguageToStorage = (language: string): void => {
  if (typeof window !== 'undefined') {
    localStorage.setItem('language', language);
  }
};

export const getStoredLanguage = (): string => {
  if (typeof window !== 'undefined') {
    return localStorage.getItem('language') || 'pt';
  }
  return 'pt';
};

i18n.use(initReactI18next).init({
  resources,
  lng: 'pt',
  fallbackLng: 'pt',
  interpolation: {
    escapeValue: false,
  },
});

i18n.on('languageChanged', (lng: string) => {
  saveLanguageToStorage(lng);
});

export default i18n;
